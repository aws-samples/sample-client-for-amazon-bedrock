name: "setup-api-key-guide"

on:
  workflow_dispatch:

jobs:
  setup-guide:
    runs-on: ubuntu-latest
    steps:
      - name: App Store Connect API Key Setup Guide
        run: |
          echo "ğŸ”‘ App Store Connect API å¯†é’¥é…ç½®æŒ‡å—"
          echo "=================================================="
          echo ""
          echo "ğŸ“‹ ç¬¬ä¸€æ­¥ï¼šåœ¨ Apple Developer è´¦æˆ·ä¸­åˆ›å»º API å¯†é’¥"
          echo "1. è®¿é—®: https://appstoreconnect.apple.com/access/api"
          echo "2. ç‚¹å‡» 'Keys' æ ‡ç­¾"
          echo "3. ç‚¹å‡» '+' åˆ›å»ºæ–°å¯†é’¥"
          echo "4. Name: 'GitHub Actions Notarization'"
          echo "5. Access: é€‰æ‹© 'Developer' è§’è‰²"
          echo "6. ç‚¹å‡» 'Generate'"
          echo ""
          echo "ğŸ“ ç¬¬äºŒæ­¥ï¼šè®°å½•é‡è¦ä¿¡æ¯"
          echo "- ä¸‹è½½ .p8 æ–‡ä»¶ (åªèƒ½ä¸‹è½½ä¸€æ¬¡!)"
          echo "- è®°å½• Key ID (10ä¸ªå­—ç¬¦)"
          echo "- è®°å½• Issuer ID (é¡µé¢é¡¶éƒ¨çš„ UUID)"
          echo ""
          echo "ğŸ”§ ç¬¬ä¸‰æ­¥ï¼šåœ¨ GitHub ä¸­è®¾ç½® Secrets"
          echo "è®¿é—®: https://github.com/aws-samples/sample-client-for-amazon-bedrock/settings/secrets/actions"
          echo ""
          echo "éœ€è¦æ·»åŠ çš„ Secrets:"
          echo "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
          echo "â”‚ Secret Name         â”‚ Value                                â”‚"
          echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
          echo "â”‚ APPLE_API_KEY       â”‚ .p8 æ–‡ä»¶çš„å®Œæ•´å†…å®¹                    â”‚"
          echo "â”‚                     â”‚ (åŒ…æ‹¬ -----BEGIN PRIVATE KEY----- ç­‰) â”‚"
          echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
          echo "â”‚ APPLE_API_KEY_ID    â”‚ 10ä¸ªå­—ç¬¦çš„ Key ID                     â”‚"
          echo "â”‚                     â”‚ ä¾‹å¦‚: ABC1234567                     â”‚"
          echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
          echo "â”‚ APPLE_API_ISSUER    â”‚ UUID æ ¼å¼çš„ Issuer ID                â”‚"
          echo "â”‚                     â”‚ ä¾‹å¦‚: 12345678-1234-1234-1234-123456789012 â”‚"
          echo "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
          echo ""
          echo "ğŸ’¡ .p8 æ–‡ä»¶å†…å®¹ç¤ºä¾‹:"
          echo "-----BEGIN PRIVATE KEY-----"
          echo "MIGTAgEAMBMGByqGSM49AgEGCCqGSM49AwEHBHkwdwIBAQQg..."
          echo "...æ›´å¤šå†…å®¹..."
          echo "-----END PRIVATE KEY-----"
          echo ""
          echo "âœ… é…ç½®å®Œæˆåï¼Œè¿è¡Œ 'test-api-key-notarization' å·¥ä½œæµéªŒè¯"
          echo ""
          echo "ğŸ”— å‚è€ƒæ–‡æ¡£:"
          echo "- https://developer.apple.com/documentation/appstoreconnectapi/creating_api_keys_for_app_store_connect_api"
          echo "- https://developer.apple.com/documentation/security/notarizing_macos_software_before_distribution"
